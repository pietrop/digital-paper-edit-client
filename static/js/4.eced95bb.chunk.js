(this["webpackJsonp@pietrop/digital-paper-edit-client"]=this["webpackJsonp@pietrop/digital-paper-edit-client"]||[]).push([[4],{111:function(e,t,n){"use strict";function r(){return void 0===window.process?"demo":void 0!==window.process.versions.electron?(console.debug("In Electron Enviroment"),"electron"):void 0!==window.process.versions.cep?(console.debug("In Adobe CEP Environment"),"cep"):void console.error("couldn't determine the js environment")}t.a=r},127:function(e,t,n){"use strict";var r=n(15),a=n(16),s=n(18),c=n(17),u=n(19),o=n(0),i=n.n(o),p=n(252),l=n(133),d=function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this.props.items.map((function(e,t){return e.link?i.a.createElement(l.LinkContainer,{key:t,to:e.link},i.a.createElement(p.a.Item,null,e.name)):i.a.createElement(p.a.Item,{key:t,active:!0},e.name)}));return i.a.createElement(i.a.Fragment,null,i.a.createElement("style",{scoped:!0},"\n        .breadcrumb{ \n          background-color: ".concat(this.props.backgroundColor,";\n          ").concat(this.props.backgroundColor?" margin: 0px":""," \n          }\n        ")),i.a.createElement("div",null,i.a.createElement(p.a,null,e)))}}]),t}(o.Component);t.a=d},97:function(e,t,n){"use strict";var r=n(90),a=n.n(r),s=n(15),c=n(16),u=n(196),o=n.n(u),i=["GET","POST","PUT","DELETE"],p=function(e){if(!i.includes(e))throw new Error("Wrong method passed ".concat(e," - should be one of ").concat(i))},l=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return"PUT"===e?t={method:e,mode:"cors",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}:"POST"===e?(t={method:e},"json"===r?(t.headers={"Content-Type":"application/json"},t.body=JSON.stringify(n)):t.body=n):t={method:e,mode:"cors"},t};var d=function(e){var t,n,r,s,c=arguments;return a.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return t=c.length>1&&void 0!==c[1]?c[1]:"GET",n=c.length>2&&void 0!==c[2]?c[2]:{},r=c.length>3?c[3]:void 0,p(t),s=l(t,n,r),u.next=7,a.a.awrap(fetch(e,s));case 7:return u.abrupt("return",u.sent);case 8:case"end":return u.stop()}}))},f=function(){function e(){var t=this;Object(s.a)(this,e),this.projectsIdUrl=function(e){return"".concat(t.projectsUrl,"/").concat(e)},this.transcriptsUrl=function(e){return"".concat(t.projectsIdUrl(e),"/transcripts")},this.transcriptsIdUrl=function(e,n,r){var a=r?"?".concat(o.a.stringify(r)):"";return"".concat(t.transcriptsUrl(e),"/").concat(n).concat(a).trim()},this.paperEditsUrl=function(e){return"".concat(t.projectsIdUrl(e),"/paperedits")},this.paperEditsIdUrl=function(e,n){return"".concat(t.projectsIdUrl(e),"/paperedits/").concat(n)},this.annotationsUrl=function(e,n){return"".concat(t.transcriptsIdUrl(e,n),"/annotations")},this.annotationsIdUrl=function(e,n,r){return"".concat(t.transcriptsIdUrl(e,n),"/annotations/").concat(r)},this.labelsUrl=function(e){return"".concat(t.projectsIdUrl(e),"/labels")},this.labelsIdUrl=function(e,n){return"".concat(t.projectsIdUrl(e),"/labels/").concat(n)},this.baseUrl=window.env.API_URL,window.env.API_URL=null,this.projectsUrl="".concat(this.baseUrl,"/api/projects")}return Object(c.a)(e,[{key:"getAllProjects",value:function(){var e,t;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.a.awrap(d(this.projectsUrl));case 2:return e=n.sent,n.next=5,a.a.awrap(e.json());case 5:return t=n.sent,n.abrupt("return",t.projects);case 7:case"end":return n.stop()}}),null,this)}},{key:"getProject",value:function(e){var t,n;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a.a.awrap(d(this.projectsIdUrl(e)));case 2:return t=r.sent,r.next=5,a.a.awrap(t.json());case 5:return n=r.sent,r.abrupt("return",n);case 7:case"end":return r.stop()}}),null,this)}},{key:"createProject",value:function(e){var t;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.a.awrap(d(this.projectsUrl,"POST",e,"json"));case 2:return t=n.sent,n.next=5,a.a.awrap(t.json());case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}}),null,this)}},{key:"updateProject",value:function(e,t){var n,r;return a.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,a.a.awrap(d(this.projectsIdUrl(e),"PUT",t));case 2:return n=s.sent,s.next=5,a.a.awrap(n.json());case 5:return r=s.sent,s.abrupt("return",r);case 7:case"end":return s.stop()}}),null,this)}},{key:"deleteProject",value:function(e){var t;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.a.awrap(d(this.projectsIdUrl(e),"DELETE"));case 2:return t=n.sent,n.abrupt("return",t);case 4:case"end":return n.stop()}}),null,this)}},{key:"getTranscripts",value:function(e){var t,n;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a.a.awrap(d(this.transcriptsUrl(e)));case 2:return t=r.sent,r.next=5,a.a.awrap(t.json());case 5:return n=r.sent,r.abrupt("return",n);case 7:case"end":return r.stop()}}),null,this)}},{key:"createTranscript",value:function(e,t){var n,r;return a.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,a.a.awrap(d(this.transcriptsUrl(e),"POST",t));case 2:return n=s.sent,s.next=5,a.a.awrap(n.json());case 5:return r=s.sent,s.abrupt("return",r);case 7:case"end":return s.stop()}}),null,this)}},{key:"getTranscript",value:function(e,t,n){var r,s,c;return a.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,a.a.awrap(d(this.transcriptsIdUrl(e,t,n)));case 2:return r=u.sent,u.next=5,a.a.awrap(r.json());case 5:return s=u.sent,u.next=8,a.a.awrap(this.getProject(e));case 8:return c=u.sent,s.projectTitle=c.project.title,s.transcriptTitle=s.title,delete s.title,u.abrupt("return",s);case 13:case"end":return u.stop()}}),null,this)}},{key:"updateTranscript",value:function(e,t,n,r){var s;return a.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,a.a.awrap(d(this.transcriptsIdUrl(e,t,n),"PUT",r));case 2:return s=c.sent,c.abrupt("return",s);case 4:case"end":return c.stop()}}),null,this)}},{key:"deleteTranscript",value:function(e,t){var n;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a.a.awrap(d(this.transcriptsIdUrl(e,t),"DELETE"));case 2:return n=r.sent,r.abrupt("return",n);case 4:case"end":return r.stop()}}),null,this)}},{key:"getAllAnnotations",value:function(e,t){var n,r;return a.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,a.a.awrap(fetch(this.annotationsUrl(e,t)));case 2:return n=s.sent,s.next=5,a.a.awrap(n.json());case 5:return r=s.sent,s.abrupt("return",r);case 7:case"end":return s.stop()}}),null,this)}},{key:"getAnnotation",value:function(e,t,n){var r,s;return a.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,a.a.awrap(d(this.annotationsIdUrl(e,t,n)));case 2:return r=c.sent,c.next=5,a.a.awrap(r.json());case 5:return s=c.sent,c.abrupt("return",s);case 7:case"end":return c.stop()}}),null,this)}},{key:"createAnnotation",value:function(e,t,n){var r;return a.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,a.a.awrap(d(this.annotationsUrl(e,t),"POST",n,"json"));case 2:return r=s.sent,s.next=5,a.a.awrap(r.json());case 5:return s.abrupt("return",s.sent);case 6:case"end":return s.stop()}}),null,this)}},{key:"updateAnnotation",value:function(e,t,n,r){var s,c;return a.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,a.a.awrap(d(this.annotationsIdUrl(e,t,n),"PUT",r));case 2:return s=u.sent,u.next=5,a.a.awrap(s.json());case 5:return c=u.sent,u.abrupt("return",c);case 7:case"end":return u.stop()}}),null,this)}},{key:"deleteAnnotation",value:function(e,t,n){var r,s;return a.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,a.a.awrap(d(this.annotationsIdUrl(e,t,n),"DELETE"));case 2:return r=c.sent,c.next=5,a.a.awrap(r.json());case 5:return s=c.sent,c.abrupt("return",s);case 7:case"end":return c.stop()}}),null,this)}},{key:"getAllLabels",value:function(e){var t,n;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a.a.awrap(fetch(this.labelsUrl(e)));case 2:return t=r.sent,r.next=5,a.a.awrap(t.json());case 5:return n=r.sent,r.abrupt("return",n);case 7:case"end":return r.stop()}}),null,this)}},{key:"getLabel",value:function(e,t){var n,r;return a.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,a.a.awrap(d(this.labelsIdUrl(e,t)));case 2:return n=s.sent,s.next=5,a.a.awrap(n.json());case 5:return r=s.sent,s.abrupt("return",r);case 7:case"end":return s.stop()}}),null,this)}},{key:"createLabel",value:function(e,t){var n,r;return a.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,a.a.awrap(d(this.labelsUrl(e),"POST",t,"json"));case 2:return n=s.sent,s.next=5,a.a.awrap(n.json());case 5:return r=s.sent,s.abrupt("return",r);case 7:case"end":return s.stop()}}),null,this)}},{key:"updateLabel",value:function(e,t,n){var r,s;return a.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,a.a.awrap(d(this.labelsIdUrl(e,t),"PUT",n));case 2:return r=c.sent,c.next=5,a.a.awrap(r.json());case 5:return s=c.sent,c.abrupt("return",s);case 7:case"end":return c.stop()}}),null,this)}},{key:"deleteLabel",value:function(e,t){var n,r;return a.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,a.a.awrap(d(this.labelsIdUrl(e,t),"DELETE"));case 2:return n=s.sent,s.next=5,a.a.awrap(n.json());case 5:return r=s.sent,s.abrupt("return",r);case 7:case"end":return s.stop()}}),null,this)}},{key:"getAllPaperEdits",value:function(e){var t,n;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a.a.awrap(d(this.paperEditsUrl(e)));case 2:return t=r.sent,r.next=5,a.a.awrap(t.json());case 5:return n=r.sent,r.abrupt("return",n.paperedits);case 7:case"end":return r.stop()}}),null,this)}},{key:"getPaperEdit",value:function(e,t){var n,r;return a.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,a.a.awrap(d(this.paperEditsIdUrl(e,t)));case 2:return n=s.sent,s.next=5,a.a.awrap(n.json());case 5:return r=s.sent,s.abrupt("return",r);case 7:case"end":return s.stop()}}),null,this)}},{key:"createPaperEdit",value:function(e,t){var n;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a.a.awrap(d(this.paperEditsUrl(e),"POST",t,"json"));case 2:return n=r.sent,r.next=5,a.a.awrap(n.json());case 5:return r.abrupt("return",r.sent);case 6:case"end":return r.stop()}}),null,this)}},{key:"updatePaperEdit",value:function(e,t,n){var r,s;return a.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,a.a.awrap(d(this.paperEditsIdUrl(e,t),"PUT",n));case 2:return r=c.sent,c.next=5,a.a.awrap(r.json());case 5:return s=c.sent,c.abrupt("return",s);case 7:case"end":return c.stop()}}),null,this)}},{key:"deletePaperEdit",value:function(e,t){var n;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a.a.awrap(d(this.paperEditsIdUrl(e,t),"DELETE"));case 2:return n=r.sent,r.abrupt("return",n);case 4:case"end":return r.stop()}}),null,this)}},{key:"getTranscriptLabelsAnnotations",value:function(e,t){var n,r,s,c;return a.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,a.a.awrap(this.getTranscript(e,t));case 2:return n=u.sent,u.next=5,a.a.awrap(this.getAllLabels(e,t));case 5:return r=u.sent,u.next=8,a.a.awrap(this.getAllAnnotations(e,t));case 8:return s=u.sent,c={transcriptId:t,projectId:e,projectTitle:n.projectTitle,transcriptTitle:n.transcriptTitle,url:n.url,labels:r.labels,transcript:n.transcript,annotations:s.annotations},u.abrupt("return",c);case 11:case"end":return u.stop()}}),null,this)}},{key:"getProgrammeScriptAndTranscripts",value:function(e,t){var n,r,s,c,u,o,i,p=this;return a.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,a.a.awrap(this.getTranscripts(e));case 2:return n=l.sent,l.next=5,a.a.awrap(Promise.all(n.transcripts.map((function(t){return p.getTranscript(e,t.id)}))));case 5:return r=l.sent,l.next=8,a.a.awrap(Promise.all(n.transcripts.map((function(t){return p.getAllAnnotations(e,t.id)}))));case 8:return s=l.sent,r.forEach((function(e){var t=s.find((function(t){return t.transcriptId===e.id}));e.annotations=t?t.annotations:[]})),l.next=12,a.a.awrap(this.getPaperEdit(e,t));case 12:return c=l.sent,l.next=15,a.a.awrap(this.getProject(e));case 15:return u=l.sent,l.next=18,a.a.awrap(this.getAllLabels(e));case 18:return o=l.sent,i={programmeScript:c.programmeScript,project:u.project,transcripts:r,labels:o.labels},l.abrupt("return",i);case 21:case"end":return l.stop()}}),null,this)}},{key:"exportVideo",value:function(e,t){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n,r){n({input:e,output:"~/Desktop/".concat(t),ffmpegPath:""})})));case 1:case"end":return n.stop()}}))}},{key:"exportAudio",value:function(e,t,n,r,s){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n,r){n({input:e,output:"~/Desktop/".concat(t),ffmpegPath:""})})));case 1:case"end":return n.stop()}}))}}]),e}(),h=function(){function e(){Object(s.a)(this,e)}return Object(c.a)(e,[{key:"getAllProjects",value:function(){var e,t,n;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a.a.awrap(fetch("db/projects.json"));case 2:return e=r.sent,r.next=5,a.a.awrap(e.json());case 5:if(t=r.sent,0,0===t.length){r.next=10;break}return n=t.map((function(e){return e.id=e._id,e})),r.abrupt("return",n);case 10:case"end":return r.stop()}}))}},{key:"getProject",value:function(e){var t,n,r;return a.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,a.a.awrap(fetch("db/projects.json"));case 2:return t=s.sent,s.next=5,a.a.awrap(t.json());case 5:return n=s.sent,r=n.find((function(t){return t._id===e})),s.abrupt("return",{status:"ok",project:r});case 8:case"end":return s.stop()}}))}},{key:"createProject",value:function(e){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return alert("Not implemented in demo mode"),e.abrupt("return",{status:"false"});case 2:case"end":return e.stop()}}))}},{key:"updateProject",value:function(e,t){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return alert("Not implemented in demo mode"),e.abrupt("return",{status:"false"});case 2:case"end":return e.stop()}}))}},{key:"deleteProject",value:function(e){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return alert("Not implemented in demo mode"),e.abrupt("return",{ok:!1,status:"false",project:{}});case 2:case"end":return e.stop()}}))}},{key:"getTranscripts",value:function(e){var t,n;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a.a.awrap(fetch("db/transcripts.json"));case 2:return t=r.sent,r.next=5,a.a.awrap(t.json());case 5:return n=(n=(n=r.sent).filter((function(t){return t.projectId===e}))).map((function(e){return e.id=e._id,e})),r.abrupt("return",{transcripts:n});case 9:case"end":return r.stop()}}))}},{key:"createTranscript",value:function(e,t,n){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return alert("Not implemented in demo mode"),e.abrupt("return",{status:"false"});case 2:case"end":return e.stop()}}))}},{key:"getTranscript",value:function(e,t,n){var r,s,c,u;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.a.awrap(fetch("db/transcripts.json"));case 2:return r=n.sent,n.next=5,a.a.awrap(r.json());case 5:return s=n.sent,(c=s.find((function(e){return e._id===t}))).id=c._id,n.next=10,a.a.awrap(this.getProject(e));case 10:return u=n.sent,c.projectTitle=u.project.title,c.transcriptTitle=c.title,n.abrupt("return",c);case 14:case"end":return n.stop()}}),null,this)}},{key:"updateTranscript",value:function(e,t,n,r){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return alert("Not implemented in demo mode"),e.abrupt("return",{ok:!1});case 2:case"end":return e.stop()}}))}},{key:"deleteTranscript",value:function(e,t){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return alert("Not implemented in demo mode"),e.abrupt("return",{ok:!1,status:"false"});case 2:case"end":return e.stop()}}))}},{key:"getAllAnnotations",value:function(e,t){var n,r;return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.awrap(fetch("db/annotations.json"));case 2:return n=e.sent,e.next=5,a.a.awrap(n.json());case 5:return r=(r=(r=e.sent).filter((function(e){return e.transcriptId===t})))?r.map((function(e){return e.id=e._id,e})):[],e.abrupt("return",{annotations:r});case 9:case"end":return e.stop()}}))}},{key:"getAnnotation",value:function(e,t,n){var r,s,c;return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.awrap(fetch("db/annotations.json"));case 2:return r=e.sent,e.next=5,a.a.awrap(r.json());case 5:return s=e.sent,c=s[0],e.abrupt("return",{annotation:c});case 8:case"end":return e.stop()}}))}},{key:"createAnnotation",value:function(e,t,n){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return alert("Not implemented in demo mode"),e.abrupt("return",{ok:!1,status:"false",annotation:[]});case 2:case"end":return e.stop()}}))}},{key:"deleteAnnotation",value:function(e,t,n){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return alert("Not implemented in demo mode"),e.abrupt("return",{ok:!1,status:"false"});case 2:case"end":return e.stop()}}))}},{key:"getAllLabels",value:function(e){var t,n,r;return a.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,a.a.awrap(fetch("db/labels.json"));case 2:return t=s.sent,s.next=5,a.a.awrap(t.json());case 5:return n=s.sent,r=n[0],(n=n.filter((function(t){return t.projectId===e}))).unshift(r),n||(n=[]),s.abrupt("return",{ok:!0,status:"ok",labels:n});case 11:case"end":return s.stop()}}))}},{key:"getLabel",value:function(e,t){var n,r,s;return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.awrap(fetch("db/labels.json"));case 2:return n=e.sent,e.next=5,a.a.awrap(n.json());case 5:return r=e.sent,s=r[0],e.abrupt("return",{ok:!0,status:"ok",label:s});case 8:case"end":return e.stop()}}))}},{key:"createLabel",value:function(e,t){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return alert("Not implemented in demo mode"),e.abrupt("return",{ok:!1,status:"false"});case 2:case"end":return e.stop()}}))}},{key:"updateLabel",value:function(e,t,n){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return alert("Not implemented in demo mode"),e.abrupt("return",{ok:!1,status:"false"});case 2:case"end":return e.stop()}}))}},{key:"deleteLabel",value:function(e,t){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return alert("Not implemented in demo mode"),e.abrupt("return",{status:"false"});case 2:case"end":return e.stop()}}))}},{key:"getAllPaperEdits",value:function(e){var t,n,r;return a.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,a.a.awrap(fetch("db/paperedits.json"));case 2:return t=s.sent,s.next=5,a.a.awrap(t.json());case 5:return n=(n=s.sent).filter((function(t){return t.projectId===e})),(r={}).paperedits=[],r.paperedits=n,r.paperedits&&(r.paperedits=r.paperedits.map((function(e){return e.id=e._id,e}))),s.abrupt("return",r.paperedits);case 12:case"end":return s.stop()}}))}},{key:"getPaperEdit",value:function(e,t){var n,r,s,c;return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,a.a.awrap(fetch("db/paperedits.json"));case 3:return r=e.sent,e.next=6,a.a.awrap(r.json());case 6:return s=e.sent,(c=s.find((function(e){return e.id===n})))||(new Error("No paper edit found").statusCode=404),e.abrupt("return",{ok:!0,status:"ok",programmeScript:c});case 10:case"end":return e.stop()}}))}},{key:"createPaperEdit",value:function(e,t){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return alert("Not implemented in demo mode"),e.abrupt("return",{ok:!1,status:"false"});case 2:case"end":return e.stop()}}))}},{key:"updatePaperEdit",value:function(e,t,n){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return alert("Not implemented in demo mode"),e.abrupt("return",{ok:!0,status:"false"});case 2:case"end":return e.stop()}}))}},{key:"deletePaperEdit",value:function(e,t){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return alert("Not implemented in demo mode"),e.abrupt("return",{ok:!1,status:"false"});case 2:case"end":return e.stop()}}))}},{key:"getTranscriptLabelsAnnotations",value:function(e,t){var n,r,s,c;return a.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,a.a.awrap(this.getTranscript(e,t));case 2:return n=u.sent,u.next=5,a.a.awrap(this.getAllLabels(e,t));case 5:return r=u.sent,u.next=8,a.a.awrap(this.getAllAnnotations(e,t));case 8:return s=u.sent,c={transcriptId:t,projectId:e,projectTitle:n.projectTitle,transcriptTitle:n.transcriptTitle,url:n.url,labels:r.labels,transcript:n.transcript,annotations:s.annotations},u.abrupt("return",c);case 11:case"end":return u.stop()}}),null,this)}},{key:"getProgrammeScriptAndTranscripts",value:function(e,t){var n,r,s,c,u,o,i,p=this;return a.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,a.a.awrap(this.getTranscripts(e));case 2:return n=l.sent,l.next=5,a.a.awrap(Promise.all(n.transcripts.map((function(t){return p.getTranscript(e,t.id)}))));case 5:return r=l.sent,l.next=8,a.a.awrap(Promise.all(n.transcripts.map((function(t){return p.getAllAnnotations(e,t.id)}))));case 8:return s=l.sent,r.forEach((function(e){var t=s.find((function(t){return t.transcriptId===e.id}));e.annotations=t?t.annotations:[]})),l.next=12,a.a.awrap(this.getPaperEdit(e,t));case 12:return c=l.sent,l.next=15,a.a.awrap(this.getProject(e));case 15:return u=l.sent,l.next=18,a.a.awrap(this.getAllLabels(e));case 18:return o=l.sent,i={programmeScript:c.programmeScript,project:u.project,transcripts:r,labels:o.labels},l.abrupt("return",i);case 21:case"end":return l.stop()}}),null,this)}}]),e}(),v=n(111),w=Object(v.a)();t.a=function(){if("demo"===w){console.log("API Wrapper demo time!");var e=new h;return Object.freeze(e),e}if("browser"===w){var t=new f;return Object.freeze(t),t}if("electron"===w){var n=new(0,window.ElectronWrapper);return Object.freeze(n),n}if("cep"===w){var r=new(0,window.AdobeCEPWrapper);return Object.freeze(r),r}}()}}]);
//# sourceMappingURL=4.eced95bb.chunk.js.map